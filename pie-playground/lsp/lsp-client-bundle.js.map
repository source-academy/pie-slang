{"version":3,"file":"lsp-client-bundle.js","sources":["lsp-client-simple.ts"],"sourcesContent":[null],"names":["PieLanguageClient","constructor","monacoInstance","editorInstance","this","worker","disposables","debouncedValidate","diagnostics","monaco","editor","start","Worker","URL","url","type","onmessage","event","handleWorkerMessage","data","onerror","error","console","model","getModel","debounce","source","getValue","postMessage","changeDisposable","onDidChangeModelContent","push","hoverDisposable","languages","registerHoverProvider","provideHover","position","completionDisposable","registerCompletionItemProvider","provideCompletionItems","definitionDisposable","registerDefinitionProvider","provideDefinition","stop","clearMarkers","forEach","disposable","dispose","terminate","isRunning","message","updateDiagnostics","severity","startLine","startColumn","endLine","endColumn","markers","map","diag","ensurePositiveNumber","startLineNumber","endLineNumber","MarkerSeverity","Warning","Error","setModelMarkers","diagnostic","find","lineNumber","column","contents","value","range","Promise","resolve","handleHover","removeEventListener","hoverInfo","info","markdownContent","title","summary","details","examples","addEventListener","line","setTimeout","handleCompletion","wordRange","end","suggestions","completions","item","kind","CompletionItemKind","Text","Keyword","Function","Variable","Class","Value","Snippet","label","detail","insertText","handleDefinition","location","uri","fallback","Number","isNaN","fn","delay","handle","window","clearTimeout","registerPieLanguage","register","id","setLanguageConfiguration","comments","lineComment","blockComment","brackets","autoClosingPairs","open","close","surroundingPairs","indentationRules","increaseIndentPattern","decreaseIndentPattern","onEnterRules","beforeText","action","indentAction","IndentAction","Indent","afterText","IndentOutdent","Outdent","setMonarchTokensProvider","defaultToken","tokenPostfix","keywords","symbols","tokenizer","root","include","cases","whitespace","comment","string"],"mappings":"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,aAAc9H,EAAOwB,UAAUuG,aAAaI,aAOpDnI,EAAOwB,UAAU4G,yBAAyB,MAAO,CAC/CC,aAAc,GACdC,aAAc,OAEdC,SAAU,CACR,SACA,IACA,KACA,IACA,QACA,IACA,SACA,QACA,MACA,aACA,oBACA,OACA,IACA,MACA,OACA,OACA,MACA,SACA,OACA,OACA,MACA,OACA,MACA,MACA,UACA,UACA,WACA,WACA,WACA,UACA,UACA,QACA,UACA,QACA,OACA,OACA,OACA,OACA,QACA,aACA,SACA,QACA,YACA,QACA,OACA,UACA,OACA,KACA,SACA,aACA,IACA,OACA,OACA,SACA,KACA,KAIFC,QAAS,sBAGTC,UAAW,CACTC,KAAM,CAEJ,CAAEC,QAAS,eAGX,CACE,8EACA,WAIF,CACE,qCACA,CACEC,MAAO,CACL,YAAa,UACb,WAAY,gBAMlB,CAAC,MAAO,UAGR,CAAC,kBAAmB,kBACpB,CAAC,IAAK,SAAU,WAGhB,CAAC,kCAAmC,iBAGpC,CAAC,UAAW,aACZ,CACE,WACA,CACEA,MAAO,CACL,aAAc,WACd,WAAY,OAMpBC,WAAY,CACV,CAAC,aAAc,SACf,CAAC,OAAQ,WACT,CAAC,MAAO,UAAW,aAGrBC,QAAS,CACP,CAAC,SAAU,WACX,CAAC,MAAO,UAAW,QACnB,CAAC,OAAQ,YAGXC,OAAQ,CACN,CAAC,UAAW,UACZ,CAAC,MAAO,iBACR,CAAC,IAAK,SAAU,WAIxB"}